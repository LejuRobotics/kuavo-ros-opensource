<launch>
    <arg name="joystick_type"      default="bt2"/>
    <arg name="visualize_mm"       default="true"/>
    <arg name="rviz"               default="false"/>
    <arg name="rviz_mm"            default="true"/>
    <arg name="sqp_mpc"            default="1"/>

  <include file="$(find mobile_manipulator_controllers)/launch/mobile_manipulator_controller.launch">
    <arg name="sqp_mpc"        value="$(arg sqp_mpc)"/>
    <arg name="rviz"           value="$(arg rviz_mm)"/>
    <arg name="visualize_mm"   value="$(arg visualize_mm)"/>
  </include>

  <!-- sim launch -->
  <include file="$(find humanoid_controllers)/launch/load_kuavo_gazebo_sim.launch">
    <arg name="joystick_type"      value="$(arg joystick_type)"/>
    <arg name="rviz"               value="$(arg rviz)"/>
  </include>

  <include file="$(find apriltag_ros)/launch/continuous_detection.launch">
    <arg name="camera_name" value="/camera/color"/>
    <arg name="image_topic" value="image_raw"/>
  </include>

  <node name="quest3_node" pkg="motion_capture_ik" type="quest3_node.py" output="screen" args="--send_srv 0 --control_torso 0"/>
</launch>
